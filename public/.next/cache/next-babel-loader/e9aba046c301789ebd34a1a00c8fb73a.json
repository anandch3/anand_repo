{"ast":null,"code":"import _regeneratorRuntime from \"/home/ubuntu/public/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ubuntu/public/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport Head from 'next/head';\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport Link from 'next/link';\nimport { API_BASE_URL } from '../../../config';\nimport { useRouter } from 'next/router';\nimport DetailsPopup from '../../../components/detailsPopup';\n\nvar Subcategories = function Subcategories() {\n  var router = useRouter();\n  var id = router.query.id;\n\n  var _useState = useState([]),\n      subcategories = _useState[0],\n      setSubCategories = _useState[1];\n\n  var _useState2 = useState(''),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      description = _useState3[0],\n      setDescription = _useState3[1];\n\n  var _useState4 = useState([]),\n      category = _useState4[0],\n      setCategory = _useState4[1];\n\n  var _useState5 = useState(true),\n      hideReadMorePopUp = _useState5[0],\n      setHideReadMorePopUp = _useState5[1];\n\n  var _useState6 = useState([]),\n      categories = _useState6[0],\n      setCategories = _useState6[1];\n\n  var _useState7 = useState('0'),\n      cartItemCount = _useState7[0],\n      setCartItemCount = _useState7[1];\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var getCategories, categoriesGot, i, tempCatId, subcategoriesGot;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.get(\"\".concat(API_BASE_URL, \"category/active\"));\n\n          case 2:\n            getCategories = _context.sent;\n\n            if (!(getCategories.status === 200)) {\n              _context.next = 15;\n              break;\n            }\n\n            categoriesGot = getCategories.data.categories;\n            i = 0;\n\n          case 6:\n            if (!(i < categoriesGot.length)) {\n              _context.next = 15;\n              break;\n            }\n\n            tempCatId = categoriesGot[i]._id;\n            _context.next = 10;\n            return axios.get(\"\".concat(API_BASE_URL, \"subcategory/category/active/\").concat(tempCatId));\n\n          case 10:\n            subcategoriesGot = _context.sent;\n            categoriesGot[i]['subcategories'] = subcategoriesGot.data.subcategory;\n\n          case 12:\n            i++;\n            _context.next = 6;\n            break;\n\n          case 15:\n            setCategories(categoriesGot);\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []);\n  useEffect(function () {}, [categories]);\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var subCategoryId, getSubCategories;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            subCategoryId = id;\n            _context2.next = 3;\n            return axios.get(\"\".concat(API_BASE_URL, \"subcategory/category/active/\").concat(subCategoryId));\n\n          case 3:\n            getSubCategories = _context2.sent;\n\n            if (getSubCategories.status === 200) {\n              setSubCategories(getSubCategories.data.subcategory);\n            }\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [id]);\n  useEffect(function () {}, [subcategories]);\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var subCategoryId, getCategory;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            subCategoryId = id;\n\n            if (!(id != undefined)) {\n              _context3.next = 6;\n              break;\n            }\n\n            _context3.next = 4;\n            return axios.get(\"\".concat(API_BASE_URL, \"category/\").concat(subCategoryId));\n\n          case 4:\n            getCategory = _context3.sent;\n\n            if (getCategory.status === 200) {\n              setCategory(getCategory.data.category);\n            }\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  })), [id]);\n  useEffect(function () {}, [category]);\n  useEffect(function () {\n    getCartCount();\n  }, []);\n\n  var getCartCount = function getCartCount() {\n    var cartProducts = JSON.parse(localStorage.getItem('cart') || \"[]\");\n    var cartProductsCount = cartProducts.length;\n    setCartItemCount(cartProductsCount);\n  };\n\n  useEffect(function () {}, [cartItemCount]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"headerPages\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"headerMain\",\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          href: \"/\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"headerLogo\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"headerLogoImage\",\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: \"../images/logo.png\",\n                className: \"headerLogoImg\"\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"headerNav\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"headerNavMain\",\n            children: [categories.map(function (category, i) {\n              return /*#__PURE__*/_jsx(Link, {\n                href: \"/products/category/\".concat(category._id),\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"headerNavSingle\",\n                  children: /*#__PURE__*/_jsx(\"div\", {\n                    className: \"headerNavSingleInner\",\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      src: \"\".concat(API_BASE_URL).concat(category.image_url),\n                      className: \"headerNavSingleImg\"\n                    })\n                  })\n                })\n              }, category._id);\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/cart\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"headerNavSingle\",\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"headerNavSingleInner\",\n                  children: /*#__PURE__*/_jsx(\"i\", {\n                    className: \"fas fa-cart-arrow-down headerNavSingleIco\"\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"headerNavSingle\",\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"headerNavSingleInner\",\n                  children: /*#__PURE__*/_jsx(\"i\", {\n                    className: \"fas fa-home headerNavSingleIco\"\n                  })\n                })\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"headerNavSearch\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"headerNavSearchMain\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"headerNavSearchInput\",\n                children: /*#__PURE__*/_jsx(\"input\", {\n                  type: \"text\",\n                  className: \"headerNavSearchInputTxt\",\n                  placeholder: \"Enter Here To Search Products\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"headerNavSearchButton\",\n                children: /*#__PURE__*/_jsx(\"i\", {\n                  className: \"fas fa-arrow-right headerNavSearchButtonIco\"\n                })\n              })]\n            })\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"pageContent\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"pageContentInner\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"pageContentHeading\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"pageContentHeadingTxt\",\n            children: category.name\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pageContentMain\",\n            children: /*#__PURE__*/_jsx(\"ul\", {\n              className: \"pageContentList\",\n              children: subcategories.map(function (subcategory, i) {\n                return /*#__PURE__*/_jsxs(\"li\", {\n                  className: \"pageContentListSingle\",\n                  children: [/*#__PURE__*/_jsx(Link, {\n                    href: \"/products/\".concat(category._id, \"/\").concat(subcategory._id),\n                    children: /*#__PURE__*/_jsx(\"div\", {\n                      className: \"pageContentListSingleImage clickable\",\n                      children: /*#__PURE__*/_jsx(\"img\", {\n                        src: \"\".concat(API_BASE_URL).concat(subcategory.image_url),\n                        className: \"pageContentListSingleImg\"\n                      })\n                    })\n                  }), /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"pageContentListSingleDetails\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"pageContentListSingleDetailsHeading\",\n                      children: /*#__PURE__*/_jsx(\"p\", {\n                        className: \"pageContentListSingleDetailsHeadingTxt\",\n                        children: subcategory.name\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"pageContentListSingleDetailsDescription\",\n                      children: /*#__PURE__*/_jsx(\"p\", {\n                        className: \"pageContentListSingleDetailsDescriptionTxt\",\n                        children: subcategory.description\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"pageContentListSingleDetailsAction\",\n                      children: /*#__PURE__*/_jsx(\"p\", {\n                        className: \"pageContentListSingleDetailsActionTxt\",\n                        onClick: function onClick(e) {\n                          setName(subcategory.name);\n                          setDescription(subcategory.description);\n                          setHideReadMorePopUp(false);\n                        },\n                        children: \"read more\"\n                      })\n                    })]\n                  })]\n                }, subcategory._id);\n              })\n            })\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"our-vision\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"our-vision-inner\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"our-vision-indicator\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"our-vision-indicator-inner\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: \"our-vision-indicator-text\",\n              children: \"Our Vision\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"our-vision-indicator-quote\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: \"../images/quote.png\",\n              className: \"our-vision-indicator-quote-ico\"\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"our-vision-content\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"our-vision-content-inner\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: \"our-vision-content-text\",\n              children: \"\\\"Country & Khadak\\u2019s vision and mission are no different. We are here to provide our customers with best quality mutton, chicken and fish not only satiate their tickling taste buds but also to ensure they are healthy and safe.\\\"\"\n            })\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"store-gallery\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"store-gallery-single\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"store-gallery-single-image\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"../images/shop-1.jpg\",\n            className: \"store-gallery-single-img\"\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"store-gallery-single\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"store-gallery-single-image\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"../images/shop-2.jpg\",\n            className: \"store-gallery-single-img\"\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"store-gallery-single\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"store-gallery-single-image\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"../images/shop-3.jpg\",\n            className: \"store-gallery-single-img\"\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"store-gallery-single\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"store-gallery-single-image\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"../images/shop-4.jpg\",\n            className: \"store-gallery-single-img\"\n          })\n        })\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"contact-us\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"contact-us-inner\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"contact-us-details\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"contact-us-details-inner\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"contact-us-details-left\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"contact-us-details-left-heading\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: \"contact-us-details-left-heading-text\",\n                  children: \"country & khadak\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"contact-us-details-left-description\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: \"contact-us-details-left-description-text\",\n                  children: \"Country & Khadak has commenced its services in Koramangala, Bengaluru from 27th Nov 2020. You can now taste your favourite Khadaknath in Namma City.\"\n                })\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"contact-us-details-contact\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"contact-us-details-contact-heading\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: \"contact-us-details-contact-heading-text\",\n                  children: \"contact details\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"contact-us-details-contact-description\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \"contact-us-details-contact-description-text\",\n                  children: \"+91 9108342799\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"contact-us-details-contact-description-text\",\n                  children: \"support@countryandkhadak.com\"\n                })]\n              })]\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"contact-us-copyright-logo\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"contact-us-copyright-logo-inner\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"contact-us-logo\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"contact-us-logo-inner\",\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: \"../../images/logo.png\",\n                  className: \"contact-us-logo-img\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"contact-us-copyright\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: \"contact-us-copyright-text\",\n                children: \"Copyright \\xA9 2020. All Rights Reserved Country & Khadak.\"\n              })\n            })]\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"cartFavIcon\",\n      children: [cartItemCount != '0' ? /*#__PURE__*/_jsx(\"div\", {\n        className: \"cartFavIconBubble\",\n        children: /*#__PURE__*/_jsx(\"p\", {\n          className: \"cartFavIconBubbleTxt\",\n          children: cartItemCount\n        })\n      }) : /*#__PURE__*/_jsx(_Fragment, {}), /*#__PURE__*/_jsx(Link, {\n        href: \"/cart\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"cartFavIconInner\",\n          children: /*#__PURE__*/_jsx(\"i\", {\n            className: \"fas fa-cart-arrow-down cartFavIconIco\"\n          })\n        })\n      })]\n    }), hideReadMorePopUp === false ? /*#__PURE__*/_jsx(DetailsPopup, {\n      name: name,\n      description: description,\n      clickedHidePopUp: function clickedHidePopUp(e) {\n        setHideReadMorePopUp(true);\n      }\n    }) : /*#__PURE__*/_jsx(_Fragment, {})]\n  });\n};\n\nexport default Subcategories;","map":null,"metadata":{},"sourceType":"module"}