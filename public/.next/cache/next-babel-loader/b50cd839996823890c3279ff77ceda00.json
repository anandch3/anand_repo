{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport Head from 'next/head';\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport Link from 'next/link';\nimport { API_BASE_URL } from '../../../config';\nimport { useRouter } from 'next/router';\nimport DetailsPopup from '../../../components/detailsPopup';\n\nconst Subcategories = () => {\n  const router = useRouter();\n  const {\n    id\n  } = router.query;\n  const {\n    0: subcategories,\n    1: setSubCategories\n  } = useState([]);\n  const {\n    0: name,\n    1: setName\n  } = useState('');\n  const {\n    0: description,\n    1: setDescription\n  } = useState('');\n  const {\n    0: category,\n    1: setCategory\n  } = useState([]);\n  const {\n    0: hideReadMorePopUp,\n    1: setHideReadMorePopUp\n  } = useState(true);\n  const {\n    0: categories,\n    1: setCategories\n  } = useState([]);\n  const {\n    0: cartItemCount,\n    1: setCartItemCount\n  } = useState('0');\n  useEffect(async () => {\n    let getCategories = await axios.get(`${API_BASE_URL}category/active`);\n    let categoriesGot;\n\n    if (getCategories.status === 200) {\n      categoriesGot = getCategories.data.categories;\n      var i;\n\n      for (i = 0; i < categoriesGot.length; i++) {\n        var tempCatId = categoriesGot[i]._id;\n        let subcategoriesGot = await axios.get(`${API_BASE_URL}subcategory/category/active/${tempCatId}`);\n        categoriesGot[i]['subcategories'] = subcategoriesGot.data.subcategory;\n      }\n    }\n\n    setCategories(categoriesGot);\n  }, []);\n  useEffect(() => {}, [categories]);\n  useEffect(async () => {\n    const subCategoryId = id;\n    let getSubCategories = await axios.get(`${API_BASE_URL}subcategory/category/active/${subCategoryId}`);\n\n    if (getSubCategories.status === 200) {\n      setSubCategories(getSubCategories.data.subcategory);\n    }\n  }, [id]);\n  useEffect(() => {}, [subcategories]);\n  useEffect(async () => {\n    const subCategoryId = id;\n\n    if (id != undefined) {\n      let getCategory = await axios.get(`${API_BASE_URL}category/${subCategoryId}`);\n\n      if (getCategory.status === 200) {\n        setCategory(getCategory.data.category);\n      }\n    }\n  }, [id]);\n  useEffect(() => {}, [category]);\n  useEffect(() => {\n    getCartCount();\n  }, []);\n\n  const getCartCount = () => {\n    const cartProducts = JSON.parse(localStorage.getItem('cart') || \"[]\");\n    const cartProductsCount = cartProducts.length;\n    setCartItemCount(cartProductsCount);\n  };\n\n  useEffect(() => {}, [cartItemCount]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"headerPages\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"headerMain\",\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          href: \"/\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"headerLogo\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"headerLogoImage\",\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: \"../images/logo.png\",\n                className: \"headerLogoImg\"\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"headerNav\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"headerNavMain\",\n            children: [categories.map(function (category, i) {\n              return /*#__PURE__*/_jsx(Link, {\n                href: `/products/category/${category._id}`,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"headerNavSingle\",\n                  children: /*#__PURE__*/_jsx(\"div\", {\n                    className: \"headerNavSingleInner\",\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      src: `${API_BASE_URL}${category.image_url}`,\n                      className: \"headerNavSingleImg\"\n                    })\n                  })\n                })\n              }, category._id);\n            }), /*#__PURE__*/_jsx(Link, {\n              href: `/cart`,\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"headerNavSingle\",\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"headerNavSingleInner\",\n                  children: /*#__PURE__*/_jsx(\"i\", {\n                    className: \"fas fa-cart-arrow-down headerNavSingleIco\"\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"headerNavSingle\",\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"headerNavSingleInner\",\n                  children: /*#__PURE__*/_jsx(\"i\", {\n                    className: \"fas fa-home headerNavSingleIco\"\n                  })\n                })\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"headerNavSearch\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"headerNavSearchMain\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"headerNavSearchInput\",\n                children: /*#__PURE__*/_jsx(\"input\", {\n                  type: \"text\",\n                  className: \"headerNavSearchInputTxt\",\n                  placeholder: \"Enter Here To Search Products\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"headerNavSearchButton\",\n                children: /*#__PURE__*/_jsx(\"i\", {\n                  className: \"fas fa-arrow-right headerNavSearchButtonIco\"\n                })\n              })]\n            })\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"pageContent\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"pageContentInner\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"pageContentHeading\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"pageContentHeadingTxt\",\n            children: category.name\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pageContentMain\",\n            children: /*#__PURE__*/_jsx(\"ul\", {\n              className: \"pageContentList\",\n              children: subcategories.map(function (subcategory, i) {\n                return /*#__PURE__*/_jsxs(\"li\", {\n                  className: \"pageContentListSingle\",\n                  children: [/*#__PURE__*/_jsx(Link, {\n                    href: `/products/${category._id}/${subcategory._id}`,\n                    children: /*#__PURE__*/_jsx(\"div\", {\n                      className: \"pageContentListSingleImage clickable\",\n                      children: /*#__PURE__*/_jsx(\"img\", {\n                        src: `${API_BASE_URL}${subcategory.image_url}`,\n                        className: \"pageContentListSingleImg\"\n                      })\n                    })\n                  }), /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"pageContentListSingleDetails\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"pageContentListSingleDetailsHeading\",\n                      children: /*#__PURE__*/_jsx(\"p\", {\n                        className: \"pageContentListSingleDetailsHeadingTxt\",\n                        children: subcategory.name\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"pageContentListSingleDetailsDescription\",\n                      children: /*#__PURE__*/_jsx(\"p\", {\n                        className: \"pageContentListSingleDetailsDescriptionTxt\",\n                        children: subcategory.description\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"pageContentListSingleDetailsAction\",\n                      children: /*#__PURE__*/_jsx(\"p\", {\n                        className: \"pageContentListSingleDetailsActionTxt\",\n                        onClick: e => {\n                          setName(subcategory.name);\n                          setDescription(subcategory.description);\n                          setHideReadMorePopUp(false);\n                        },\n                        children: \"read more\"\n                      })\n                    })]\n                  })]\n                }, subcategory._id);\n              })\n            })\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"our-vision\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"our-vision-inner\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"our-vision-indicator\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"our-vision-indicator-inner\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: \"our-vision-indicator-text\",\n              children: \"Our Vision\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"our-vision-indicator-quote\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: \"../images/quote.png\",\n              className: \"our-vision-indicator-quote-ico\"\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"our-vision-content\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"our-vision-content-inner\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: \"our-vision-content-text\",\n              children: \"\\\"Country & Khadak\\u2019s vision and mission are no different. We are here to provide our customers with best quality mutton, chicken and fish not only satiate their tickling taste buds but also to ensure they are healthy and safe.\\\"\"\n            })\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"store-gallery\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"store-gallery-single\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"store-gallery-single-image\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"../images/shop-1.jpg\",\n            className: \"store-gallery-single-img\"\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"store-gallery-single\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"store-gallery-single-image\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"../images/shop-2.jpg\",\n            className: \"store-gallery-single-img\"\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"store-gallery-single\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"store-gallery-single-image\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"../images/shop-3.jpg\",\n            className: \"store-gallery-single-img\"\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"store-gallery-single\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"store-gallery-single-image\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"../images/shop-4.jpg\",\n            className: \"store-gallery-single-img\"\n          })\n        })\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"contact-us\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"contact-us-inner\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"contact-us-details\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"contact-us-details-inner\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"contact-us-details-left\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"contact-us-details-left-heading\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: \"contact-us-details-left-heading-text\",\n                  children: \"country & khadak\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"contact-us-details-left-description\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: \"contact-us-details-left-description-text\",\n                  children: \"Country & Khadak has commenced its services in Koramangala, Bengaluru from 27th Nov 2020. You can now taste your favourite Khadaknath in Namma City.\"\n                })\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"contact-us-details-contact\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"contact-us-details-contact-heading\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: \"contact-us-details-contact-heading-text\",\n                  children: \"contact details\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"contact-us-details-contact-description\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \"contact-us-details-contact-description-text\",\n                  children: \"+91 9108342799\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"contact-us-details-contact-description-text\",\n                  children: \"support@countryandkhadak.com\"\n                })]\n              })]\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"contact-us-copyright-logo\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"contact-us-copyright-logo-inner\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"contact-us-logo\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"contact-us-logo-inner\",\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: \"../../images/logo.png\",\n                  className: \"contact-us-logo-img\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"contact-us-copyright\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: \"contact-us-copyright-text\",\n                children: \"Copyright \\xA9 2020. All Rights Reserved Country & Khadak.\"\n              })\n            })]\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"cartFavIcon\",\n      children: [cartItemCount != '0' ? /*#__PURE__*/_jsx(\"div\", {\n        className: \"cartFavIconBubble\",\n        children: /*#__PURE__*/_jsx(\"p\", {\n          className: \"cartFavIconBubbleTxt\",\n          children: cartItemCount\n        })\n      }) : /*#__PURE__*/_jsx(_Fragment, {}), /*#__PURE__*/_jsx(Link, {\n        href: \"/cart\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"cartFavIconInner\",\n          children: /*#__PURE__*/_jsx(\"i\", {\n            className: \"fas fa-cart-arrow-down cartFavIconIco\"\n          })\n        })\n      })]\n    }), hideReadMorePopUp === false ? /*#__PURE__*/_jsx(DetailsPopup, {\n      name: name,\n      description: description,\n      clickedHidePopUp: e => {\n        setHideReadMorePopUp(true);\n      }\n    }) : /*#__PURE__*/_jsx(_Fragment, {})]\n  });\n};\n\nexport default Subcategories;","map":null,"metadata":{},"sourceType":"module"}